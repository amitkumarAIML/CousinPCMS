<div class="p-1">
  <form nz-form [formGroup]="addAttributeSetsForm">
    <!-- Category Info -->
    <div class="grid grid-cols-12 gap-4 py-2">
      <!-- Attribute Set Name (takes more width) -->
      <nz-form-item class="col-span-12 sm:col-span-5">
        <nz-form-label [nzNoColon]="true">Attribute Set Name</nz-form-label>
        <nz-form-control>
          <input nz-input formControlName="attributeSetName" id="attributeSetName" />
        </nz-form-control>
      </nz-form-item>

      <!-- Category Id (smaller column) -->
      <nz-form-item class="col-span-12 sm:col-span-3">
        <nz-form-label [nzNoColon]="true">Category Id</nz-form-label>
        <nz-form-control>
          <input nz-input formControlName="categoryID" id="categoryId" />
        </nz-form-control>
      </nz-form-item>
    </div>
    <!-- model for categoryAttriIsVisible  -->
    <nz-modal [(nzVisible)]="categoryAttriIsVisible" nzTitle="Attribute Details" [nzFooter]="null" nzClosable="true"
      class="content-center" nzWidth="500px" (nzOnCancel)="btnCancel2()">
      <ng-container *nzModalContent>

        <div class="grid grid-cols-1 px-3 py-1 gap-2">
          <nz-form-item>
            <nz-form-label [nzNoColon]="true">Attribute Set Name</nz-form-label>
            <nz-form-control nzErrorTip="Attribute set name is required">
              <input nz-input formControlName="attributeSetName" class="w-full" type="text" />
            </nz-form-control>
          </nz-form-item>
          <nz-form-item>
            <nz-form-label [nzNoColon]="true">Attribute Name</nz-form-label>
            <nz-form-control nzErrorTip="Attribute name is required">
              <input nz-input formControlName="attributeName" [readOnly]="true" class="w-full" type="text" />
            </nz-form-control>
          </nz-form-item>
          <nz-form-item class="flex gap-2">
            <nz-form-label [nzNoColon]="true">Attribute Required</nz-form-label>
            <label nz-checkbox formControlName="attributeRequired" nzValue="data.attributeRequired"></label>
            <nz-form-label [nzNoColon]="true">Not Important</nz-form-label>
            <label nz-checkbox formControlName="notImportant" nzValue="data.notImportant"></label>
          </nz-form-item>
          <nz-form-item>
            <nz-form-label [nzNoColon]="true">list Position</nz-form-label>
            <nz-form-control nzErrorTip="">
              <input nz-input type="number" class="w-full" formControlName="listPosition">
            </nz-form-control>
          </nz-form-item>
        </div>

        <div class="px-3 mt-2 flex justify-end">
          <button nz-button nzType="primary" (click)="saveAttributeSets()" class="text-white">Save</button>
        </div>
      </ng-container>
    </nz-modal>
  </form>
  <!-- Attribute Grid -->
  <div class="grid grid-cols-6 gap-4 py-2">
    <div class="col-span-6 sm:col-span-4">
      <!-- Left Table -->
      <nz-table #attributelistTable [nzData]="lstAllAttributeSets" nzBordered="true" nzShowPagination="false"
        nzSize="small" [nzLoading]="isAttributeSetloading" [nzScroll]="{x:'600px',y: '300px'}">
        <thead>
          <tr>
            <th [nzWidth]="'200px'">Attribute Name</th>
            <th [nzWidth]="'40px'" >Required</th>
            <th [nzWidth]="'50px'">Not Important</th>
            <th [nzWidth]="'50px'">List Position</th>
            <th [nzWidth]="'35px'">Action</th>
          </tr>
        </thead>
        <tbody>
          @for (data of attributelistTable.data; track $index) {
          <tr>
            <td>{{ data.attributeName }}</td>
            <td><label nz-checkbox [(ngModel)]="data.attributeRequired" [disabled]="true"></label></td>
            <td><label nz-checkbox [(ngModel)]="data.notImportant" [disabled]="true"></label></td>
            <td>{{ data.listPosition }}</td>
            <td>
             <span class="flex gap-x-1"> <a (click)="editAtrributeSets(data)">
                <nz-icon nzType="edit" nzTheme="outline" class="text-primary-theme w-5 h-4" />
              </a>
              <a (click)="deleteAttributeSets(data)">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M9 15L15 9" stroke="#FF4E4E" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M11 6.00006L11.463 5.46406C12.4008 4.52639 13.6727 3.99966 14.9989 3.99976C16.325 3.99985 17.5968 4.52676 18.5345 5.46456C19.4722 6.40237 19.9989 7.67425 19.9988 9.00042C19.9987 10.3266 19.4718 11.5984 18.534 12.5361L18 13.0001" stroke="#FF4E4E" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M13.0001 18L12.6031 18.534C11.6544 19.4722 10.3739 19.9984 9.03964 19.9984C7.70535 19.9984 6.42489 19.4722 5.47614 18.534C5.0085 18.0716 4.63724 17.521 4.38385 16.9141C4.13047 16.3073 4 15.6561 4 14.9985C4 14.3408 4.13047 13.6897 4.38385 13.0829C4.63724 12.476 5.0085 11.9254 5.47614 11.463L6.00014 11" stroke="#FF4E4E" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M4 4L20 20" stroke="#FF4E4E" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>                  
              </a>
            </span>
            </td>
          </tr>
          }
        </tbody>
      </nz-table>

      <!-- Right Scroll List -->
    </div>
    <div class="col-span-6 sm:col-span-2">
      <nz-spin [nzSpinning]="isAttributeloading">
        <ng-container *ngIf="(attributeList?.length ?? 0) > 0; else emptyList">
          <div class="h-70 overflow-y-scroll border border-light-border rounded-md bg-white">
            <nz-list nzSize="small">
              <nz-list-header
                class="text-sm font-medium text-center text-primary-font sticky top-0 bg-white z-10 border-b border-light-border">Attribute
                Details</nz-list-header>
              @for (item of attributeList; track $index) {
              <nz-list-item class="cursor-pointer text-secondary-font flex">
                <span>{{ item.attributeName }}</span>
                <a (click)="addAttributeData(item)">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9 15L15 9" stroke="#21B6E1" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M11 6.00006L11.463 5.46406C12.4008 4.52639 13.6727 3.99966 14.9989 3.99976C16.325 3.99985 17.5968 4.52676 18.5345 5.46456C19.4722 6.40237 19.9989 7.67425 19.9988 9.00042C19.9987 10.3266 19.4718 11.5984 18.534 12.5361L18 13.0001" stroke="#21B6E1" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M13.0001 18L12.6031 18.534C11.6544 19.4722 10.3739 19.9984 9.03964 19.9984C7.70535 19.9984 6.42489 19.4722 5.47614 18.534C5.0085 18.0716 4.63724 17.521 4.38385 16.9141C4.13047 16.3073 4 15.6561 4 14.9985C4 14.3408 4.13047 13.6897 4.38385 13.0829C4.63724 12.476 5.0085 11.9254 5.47614 11.463L6.00014 11" stroke="#21B6E1" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </a>
              </nz-list-item>
              }
            </nz-list>
          </div>
        </ng-container>

        <ng-template #emptyList>
          <div class="h-70 border border-light-border rounded-md bg-white text-gray-500  flex flex-col">
            <div class="text-sm font-medium text-center py-2 border-b border-light-border text-primary-font">Attribute
              Details</div>
            <div class="flex-grow flex items-center justify-center">
              <span class="text-sm">No attributes found</span>
            </div>
          </div>
        </ng-template>
      </nz-spin>
    </div>

  </div>
</div>